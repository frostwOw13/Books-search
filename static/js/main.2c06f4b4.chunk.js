(this["webpackJsonpbooks-search"]=this["webpackJsonpbooks-search"]||[]).push([[0],{31:function(e,t,o){},33:function(e,t,o){},37:function(e,t,o){},38:function(e,t,o){},39:function(e,t,o){},40:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),r=o(14),a=o.n(r),s=o(6),i=o(19),l=o(23),u={SET_BOOKS:"SET_BOOKS",SET_SEARCH_VALUE:"SET_SEARCH_VALUE",SET_CATEGORY:"SET_CATEGORY",SET_START_INDEX:"SET_START_INDEX",SET_ORDER_BY:"SET_ORDER_BY"},d={books:[]},b=Object(i.a)({allBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,o=t.type,n=t.payload;switch(o){case u.SET_BOOKS:return Object(l.a)(Object(l.a)({},e),{},{books:n});default:return e}},searchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,o=t.type,n=t.payload;switch(o){case u.SET_SEARCH_VALUE:return n;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0,o=t.type,n=t.payload;switch(o){case u.SET_CATEGORY:return n;default:return e}},startIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0,o=t.type,n=t.payload;switch(o){case u.SET_START_INDEX:return n;default:return e}},orderBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"relevance",t=arguments.length>1?arguments[1]:void 0,o=t.type,n=t.payload;switch(o){case u.SET_ORDER_BY:return n;default:return e}}}),j=Object(i.b)(b,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=(o(31),o(10)),v=o(3),O=o(8),p=o.n(O),_=o(12),m=o(18),x=function(e){return{type:u.SET_BOOKS,payload:e}},f=["Art","Biography","Business","Classics","Comics","Contemporary","Cookbooks","Crime","Fantasy","Fiction","History","Horror","Manga","Memoir","Music","Mystery","Nonfiction","Paranormal","Philosophy","Poetry","Psychology","Religion","Romance","Science","Suspense","Spirituality","Sports","Thriller","Travel"],y=(o(33),o(1)),g=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),o=t[0],c=t[1],r=Object(s.b)(),a=Object(v.f)(),i=Object(s.c)((function(e){var t={searchValue:"",category:"all",startIndex:"0",orderBy:"relevance"};return t.searchValue=e.searchValue,t.category=e.category,t.startIndex=e.startIndex,t.orderBy=e.orderBy,t})),l=i.searchValue,d=i.category,b=i.startIndex,j=i.orderBy,h=function(){var e=Object(_.a)(p.a.mark((function e(){var t,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(l,":").concat("all"===d?"":d,"&startIndex=").concat(b,"&maxResults=30&orderBy=").concat(j)).catch((function(e){throw new Error(e)}));case 2:return t=e.sent,e.next=5,t.json();case 5:o=e.sent,r(x(o));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(_.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(""),h(),a.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("header",{className:"header",children:[Object(y.jsx)("h1",{className:"title",children:"Search for books"}),Object(y.jsxs)("form",{className:"form",onSubmit:O,children:[Object(y.jsxs)("div",{className:"form__search",children:[Object(y.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search...",value:o,onChange:function(e){var t=e.currentTarget;c(t.value),r(function(e){return{type:u.SET_SEARCH_VALUE,payload:e}}(t.value))}}),Object(y.jsx)("button",{className:"icon",type:"submit",children:Object(y.jsx)("div",{className:"icon__image"})})]}),Object(y.jsxs)("div",{className:"form__options",children:[Object(y.jsxs)("label",{htmlFor:"category",children:["Categories",Object(y.jsx)("select",{id:"category",className:"select",onChange:function(e){var t=e.currentTarget;r(function(e){return{type:u.SET_CATEGORY,payload:e}}(t.value))},children:f.map((function(e){return Object(y.jsx)("option",{children:e})}))})]}),Object(y.jsxs)("label",{htmlFor:"sortby",children:["Sorting by",Object(y.jsxs)("select",{id:"sortby",className:"select",onChange:function(e){var t=e.currentTarget;r(function(e){return{type:u.SET_ORDER_BY,payload:e}}(t.value))},children:[Object(y.jsx)("option",{children:"relevance"}),Object(y.jsx)("option",{children:"newest"})]})]})]})]})]})},E=(o(37),function(){var e=Object(s.c)((function(e){return e.allBooks.books.items})),t=null===e||void 0===e?void 0:e.map((function(e,t){var o,n,c,r,a=e.volumeInfo;return Object(y.jsx)(h.b,{to:"/book/".concat(t),style:{textDecoration:"none"},children:Object(y.jsxs)("div",{className:"book-container",children:[Object(y.jsx)("img",{className:"book__image",src:null===(o=a.imageLinks)||void 0===o?void 0:o.thumbnail,alt:a.title}),Object(y.jsx)("p",{className:"book__category",children:(r=a.categories,(null===r||void 0===r?void 0:r.length)>1?r[0]:r)}),Object(y.jsx)("p",{className:"book__title",children:(c=a.title,(null===c||void 0===c?void 0:c.length)>70?"".concat(c.split("").splice(0,70).join(""),"..."):c)}),Object(y.jsx)("p",{className:"book__author",children:null===(n=a.authors)||void 0===n?void 0:n.join(", ")})]})},e.id)}));return Object(y.jsx)(y.Fragment,{children:t})}),k=(o(38),function(){var e=Object(n.useState)(30),t=Object(m.a)(e,2),o=t[0],c=t[1],r=Object(s.c)((function(e){return e.allBooks.books.totalItems})),a=Object(s.b)(),i=Object(s.c)((function(e){var t={searchValue:"",category:"all",startIndex:"0",orderBy:"relevance"};return t.searchValue=e.searchValue,t.category=e.category,t.startIndex=e.startIndex,t.orderBy=e.orderBy,t})),l=i.searchValue,d=i.category,b=i.startIndex,j=i.orderBy,h=function(){var e=Object(_.a)(p.a.mark((function e(){var t,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(l,":").concat("all"===d?"":d,"&startIndex=").concat(b,"&maxResults=30&orderBy=").concat(j)).catch((function(e){throw new Error(e)}));case 2:return t=e.sent,e.next=5,t.json();case 5:o=e.sent,a(x(o));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"book-list__wrapper",children:[r?Object(y.jsx)("h2",{className:"book-list__result",children:"Found ".concat(r," items")}):"",Object(y.jsx)("div",{className:"book-list",children:Object(y.jsx)(E,{})}),r?Object(y.jsx)("button",{className:"book-list__btn",onClick:function(){c((function(e){return e+30})),a(function(e){return{type:u.SET_START_INDEX,payload:e}}(String(o))),h()},children:"Load more"}):""]})}),S=(o(39),function(){var e,t=Object(v.g)().bookId,o=Object(s.c)((function(e){var o;if(null===(o=e.allBooks.books)||void 0===o?void 0:o.items)return e.allBooks.books.items[t]})),n=null===o||void 0===o?void 0:o.volumeInfo;return Object(y.jsx)("div",{className:"book__wrapper",children:void 0===n?Object(y.jsx)("h1",{className:"error",children:"Please, type your book query"}):Object(y.jsxs)("div",{className:"book__container",children:[Object(y.jsx)("div",{className:"book__image-wrapper",children:Object(y.jsx)("img",{className:"book__image",src:null===n||void 0===n?void 0:n.imageLinks.thumbnail,alt:(null===n||void 0===n?void 0:n.title)?null===n||void 0===n?void 0:n.title:""})}),Object(y.jsxs)("div",{className:"book__description",children:[Object(y.jsx)("div",{className:"book__category",children:null===n||void 0===n?void 0:n.categories}),Object(y.jsx)("p",{className:"book__title",children:null===n||void 0===n?void 0:n.title}),Object(y.jsx)("p",{className:"book__author",children:null===n||void 0===n||null===(e=n.authors)||void 0===e?void 0:e.join(", ")}),Object(y.jsx)("p",{className:"book__spec",children:null===n||void 0===n?void 0:n.description})]})]})})}),T=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(h.a,{children:[Object(y.jsx)(g,{}),Object(y.jsxs)(v.c,{children:[Object(y.jsx)(v.a,{path:"/",exact:!0,component:k}),Object(y.jsx)(v.a,{path:"/book/:bookId",component:S})]})]})})};a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(s.a,{store:j,children:Object(y.jsx)(T,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2c06f4b4.chunk.js.map